{"version":3,"file":"static/js/67.502b756c.chunk.js","mappings":"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","sources":["pages/TestPage.jsx","components/Topbar.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Topbar from '../components/Topbar';\r\nimport '../css/TestPage.css';\r\nimport API_HOST from '../utils/apiHost';\r\n\r\nexport default function TestPage() {\r\n  const { area, num } = useParams();\r\n  const { t } = useTranslation();\r\n  const [questions, setQuestions] = useState([]);\r\n  const [current, setCurrent] = useState(0);\r\n  const [allAnswers, setAllAnswers] = useState([]);\r\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\r\n  const [showStats, setShowStats] = useState(false);\r\n  const [startTime] = useState(Date.now());\r\n  const [sessionSaved, setSessionSaved] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const resetStateForTest = qs => {\r\n    setQuestions(qs);\r\n    setAllAnswers(Array(qs.length).fill(null));\r\n    setSelectedAnswer(null);\r\n    setShowStats(false);\r\n    setSessionSaved(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${API_HOST}/flash/thematic/${area}`, { signal: controller.signal, credentials: 'include' });\r\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n        const data = await res.json();\r\n        const shuffled = data.sort(() => 0.5 - Math.random());\r\n        const selected = shuffled.slice(0, parseInt(num));\r\n        resetStateForTest(selected);\r\n      } catch (err) {\r\n        if (err.name === 'AbortError') return;\r\n        console.error('Failed to load flashcards for test:', err.message);\r\n        setQuestions([]);\r\n      }\r\n    })();\r\n    return () => controller.abort();\r\n  }, [area, num]);\r\n\r\n  const handleAnswer = (i) => {\r\n    if (selectedAnswer !== null) return;\r\n    \r\n    setSelectedAnswer(i);\r\n    setAllAnswers(prev => { const copy = [...prev]; copy[current] = i; return copy; });\r\n    \r\n    document.activeElement?.blur?.();\r\n\r\n    setTimeout(() => {\r\n      setSelectedAnswer(null);\r\n      if (current < questions.length - 1) {\r\n        setCurrent(prev => prev + 1);\r\n      } else {\r\n        setShowStats(true);\r\n      }\r\n    }, 300);\r\n  };\r\n\r\n  // Salva la sessione quando il test √® completato\r\n  useEffect(() => {\r\n    if (!showStats || sessionSaved || questions.length === 0) return;\r\n\r\n    const saveSession = async () => {\r\n      try {\r\n        const correctCount = allAnswers.filter((ansIdx, qIdx) => {\r\n          const selected = questions[qIdx]?.answers[ansIdx];\r\n          return selected?.isCorrect;\r\n        }).length;\r\n        const percent = Math.round((correctCount / questions.length) * 100);\r\n        const duration = Math.floor((Date.now() - startTime) / 1000);\r\n\r\n        const sessionData = {\r\n          thematicArea: area,\r\n          totalQuestions: questions.length,\r\n          correctAnswers: correctCount,\r\n          wrongAnswers: questions.length - correctCount,\r\n          score: percent,\r\n          duration,\r\n          questions: questions.map((q, idx) => {\r\n            const userIdx = allAnswers[idx];\r\n            const userAns = typeof userIdx === 'number' ? q.answers[userIdx] : null;\r\n            const correctAns = q.answers.find(a => a.isCorrect);\r\n            const correctIdx = q.answers.findIndex(a => a.isCorrect);\r\n            return {\r\n              questionId: q._id,\r\n              questionText: q.question,\r\n              userAnswerIndex: userIdx ?? -1,\r\n              userAnswerText: userAns?.text || 'Nessuna risposta',\r\n              correctAnswerIndex: correctIdx,\r\n              correctAnswerText: correctAns?.text || '',\r\n              isCorrect: userAns?.isCorrect || false,\r\n              timeSpent: 0\r\n            };\r\n          })\r\n        };\r\n\r\n        await fetch(`${API_HOST}/statistics/session`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          credentials: 'include',\r\n          body: JSON.stringify(sessionData)\r\n        });\r\n        \r\n        setSessionSaved(true);\r\n      } catch (err) {\r\n        console.error('Errore nel salvare la sessione:', err);\r\n      }\r\n    };\r\n\r\n    saveSession();\r\n  }, [showStats, sessionSaved, questions, allAnswers, area, startTime]);\r\n\r\n  if (!questions.length) return (\r\n    <div className=\"test-page\">\r\n      <div className=\"page-bg-wrapper\" aria-hidden=\"true\">\r\n        <img className=\"page-bg\" src={process.env.PUBLIC_URL + '/sfondo_pages.jpg'} alt=\"\" loading=\"lazy\" />\r\n      </div>\r\n      <Topbar />\r\n      <div style={{ padding: 24 }}>{t('test.loading')}</div>\r\n    </div>\r\n  );\r\n\r\n  const q = questions[current];\r\n\r\n  if (showStats) {\r\n    const correctCount = allAnswers.filter((ansIdx, qIdx) => {\r\n      const selected = questions[qIdx]?.answers[ansIdx];\r\n      return selected?.isCorrect;\r\n    }).length;\r\n    const percent = Math.round((correctCount / questions.length) * 100);\r\n    \r\n    return (\r\n      <div className=\"test-page\">\r\n        <div className=\"page-bg-wrapper\" aria-hidden=\"true\">\r\n          <img className=\"page-bg\" src={process.env.PUBLIC_URL + '/sfondo_pages.jpg'} alt=\"\" loading=\"lazy\" />\r\n        </div>\r\n        <Topbar />\r\n        <div style={{ paddingTop: 88 }}>\r\n          <div className=\"header\">\r\n            <h2>{t('test.result')} <span className=\"header-accent\">{area}</span></h2>\r\n            <div className=\"go-tests\">\r\n              <button className=\"modern-btn\" onClick={() => navigate('/dashboard')}>\r\n                {t('test.backToDashboard')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"test-stats-box\">\r\n          <div><b>{t('test.totalQuestions')}</b> {questions.length}</div>\r\n          <div><b>{t('test.correct')}</b> {correctCount}</div>\r\n          <div><b>{t('test.percentage')}</b> {percent}%</div>\r\n        </div>\r\n        <div className=\"results-grid\">\r\n          <b>{t('test.wrongQuestions')}</b>\r\n          <div className=\"container\">\r\n            <div className=\"question-item\">\r\n              {questions.map((qq, idx) => {\r\n                const userIdx = allAnswers[idx];\r\n                const selected = typeof userIdx === 'number' ? qq.answers[userIdx] : null;\r\n                const correct = qq.answers.find(a => a.isCorrect);\r\n                const isCorrect = selected?.isCorrect;\r\n                \r\n                if (isCorrect) return null;\r\n                \r\n                return (\r\n                  <div key={idx} className=\"question-box\">\r\n                    <div className=\"q-title\">{idx + 1}. {qq.question}</div>\r\n                    <div className=\"answer-given\">{t('test.yourAnswer')} <span className=\"wrong\">{selected?.text || t('test.none')}</span></div>\r\n                    <div className=\"answer-correct\">{t('test.correctAnswer')} <span className=\"correct\">{correct?.text}</span></div>\r\n                  </div>\r\n                );\r\n              })}\r\n              {correctCount === questions.length && (\r\n                <div className=\"all-correct\">{t('test.allCorrect')}</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"test-page\">\r\n      <div className=\"page-bg-wrapper\" aria-hidden=\"true\">\r\n        <img className=\"page-bg\" src={process.env.PUBLIC_URL + '/sfondo_pages.jpg'} alt=\"\" loading=\"lazy\" />\r\n      </div>\r\n      <Topbar />\r\n      <div className=\"test-content\">\r\n        <h2 className=\"question-count\">{t('test.question')} {current + 1} / {questions.length}</h2>\r\n        <div className=\"flashcard\">\r\n          <div className=\"question\">{q.question}</div>\r\n          <div className=\"answers\">\r\n            {q.answers.map((a, i) => (\r\n              <button\r\n                key={i}\r\n                className={selectedAnswer === i ? 'modern-btn selected' : 'modern-btn'}\r\n                onClick={() => !showStats && handleAnswer(i)}\r\n                disabled={showStats}\r\n              >\r\n                {a.text}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"test-nav\">\r\n          <button className=\"modern-btn\" onClick={() => setCurrent(c => Math.max(0, c - 1))} disabled={current === 0}>{t('test.back')}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { memo, useCallback } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useTheme } from '../utils/themeContext';\r\nimport LanguageSelector from './LanguageSelector';\r\nimport '../css/Topbar.css';\r\n\r\nconst Topbar = memo(() => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { theme, toggleTheme } = useTheme();\r\n  const { t } = useTranslation();\r\n  \r\n  const isActive = (path) => location.pathname === path || location.pathname.startsWith(path);\r\n  \r\n  return (\r\n    <div className=\"dashboard-topbar\">\r\n      <button \r\n        className={`topbar-btn${isActive('/dashboard') ? ' active' : ''}`} \r\n        onClick={() => navigate('/dashboard')}\r\n      >\r\n        {t('topbar.home')}\r\n      </button>\r\n      <button \r\n        className={`topbar-btn${isActive('/ai-assistant') ? ' active' : ''}`} \r\n        onClick={() => navigate('/ai-assistant')}\r\n      >\r\n        {t('topbar.aiAssistant')}\r\n      </button>\r\n      <button \r\n        className={`topbar-btn${isActive('/statistiche') ? ' active' : ''}`} \r\n        onClick={() => navigate('/statistiche')}\r\n      >\r\n        {t('topbar.statistics')}\r\n      </button>\r\n      \r\n      <LanguageSelector />\r\n      \r\n      <button \r\n        className=\"theme-toggle-btn\"\r\n        onClick={toggleTheme}\r\n        aria-label={t('landing.changeTheme')}\r\n        title={theme === 'light' ? t('landing.darkTheme') : t('landing.lightTheme')}\r\n      >\r\n        {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n\r\nTopbar.displayName = 'Topbar';\r\n\r\nexport default Topbar;\r\n"],"names":["TestPage","area","num","useParams","t","useTranslation","questions","setQuestions","useState","current","setCurrent","allAnswers","setAllAnswers","selectedAnswer","setSelectedAnswer","showStats","setShowStats","startTime","Date","now","sessionSaved","setSessionSaved","navigate","useNavigate","useEffect","controller","AbortController","res","fetch","concat","API_HOST","signal","credentials","ok","Error","status","data","json","selected","sort","Math","random","slice","parseInt","qs","Array","length","fill","err","name","console","error","message","abort","async","correctCount","filter","ansIdx","qIdx","_questions$qIdx","answers","isCorrect","percent","round","duration","floor","sessionData","thematicArea","totalQuestions","correctAnswers","wrongAnswers","score","map","q","idx","userIdx","userAns","correctAns","find","a","correctIdx","findIndex","questionId","_id","questionText","question","userAnswerIndex","userAnswerText","text","correctAnswerIndex","correctAnswerText","timeSpent","method","headers","body","JSON","stringify","saveSession","_jsxs","className","children","_jsx","src","alt","loading","Topbar","style","padding","_questions$qIdx2","paddingTop","onClick","qq","correct","i","_document$activeEleme","_document$activeEleme2","prev","copy","document","activeElement","blur","call","setTimeout","handleAnswer","disabled","c","max","memo","location","useLocation","theme","toggleTheme","useTheme","isActive","path","pathname","startsWith","LanguageSelector","title","displayName"],"sourceRoot":""}
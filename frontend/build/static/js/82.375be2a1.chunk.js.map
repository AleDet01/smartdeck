{"version":3,"file":"static/js/82.375be2a1.chunk.js","mappings":"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","sources":["pages/AIAssistantPage.jsx","components/PageBackground.jsx","components/Topbar.jsx","components/LEDEffect.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Topbar from '../components/Topbar';\r\nimport PageBackground from '../components/PageBackground';\r\nimport LEDEffect from '../components/LEDEffect';\r\nimport '../css/AIAssistantPage.css';\r\nimport API_HOST from '../utils/apiHost';\r\n\r\nconst AIAssistantPage = () => {\r\n\tconst [messages, setMessages] = useState([]);\r\n\tconst [inputMessage, setInputMessage] = useState('');\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [showQuickActions, setShowQuickActions] = useState(true);\r\n\tconst [attachedFiles, setAttachedFiles] = useState([]);\r\n\tconst [aiModel, setAiModel] = useState('gpt-4o'); // gpt-4o, gpt-4o-mini, o1-preview\r\n\tconst [conversationContext, setConversationContext] = useState([]);\r\n\t\r\n\tconst messagesEndRef = useRef(null);\r\n\tconst textareaRef = useRef(null);\r\n\tconst fileInputRef = useRef(null);\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst scrollToBottom = () => {\r\n\t\tmessagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (messages.length > 0) {\r\n\t\t\tscrollToBottom();\r\n\t\t}\r\n\t}, [messages]);\r\n\r\n\t// Auto-resize textarea\r\n\tuseEffect(() => {\r\n\t\tif (textareaRef.current) {\r\n\t\t\ttextareaRef.current.style.height = 'auto';\r\n\t\t\ttextareaRef.current.style.height = Math.min(textareaRef.current.scrollHeight, 200) + 'px';\r\n\t\t}\r\n\t}, [inputMessage]);\r\n\r\n\tconst quickPrompts = [\r\n\t\t'Storia: Seconda Guerra Mondiale',\r\n\t\t'Matematica: Equazioni di secondo grado',\r\n\t\t'Geografia: Capitali europee',\r\n\t\t'Biologia: Corpo umano',\r\n\t\t'Fisica: Meccanica classica',\r\n\t\t'Letteratura: Decadentismo italiano'\r\n\t];\r\n\r\n\t// Helper per leggere file come base64\r\n\tconst readFileAsBase64 = (file) => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.onload = () => resolve(reader.result.split(',')[1]);\r\n\t\t\treader.onerror = reject;\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSendMessage = async (text = inputMessage, files = attachedFiles) => {\r\n\t\tif (!text || text.trim().length === 0 || isLoading) return;\r\n\r\n\t\tconst userMessage = {\r\n\t\t\trole: 'user',\r\n\t\t\tcontent: text.trim(),\r\n\t\t\ttimestamp: new Date(),\r\n\t\t\tfiles: files.length > 0 ? files.map(f => f.name) : null\r\n\t\t};\r\n\r\n\t\tsetMessages(prev => [...prev, userMessage]);\r\n\t\tconst newContext = [...conversationContext, { role: 'user', content: text.trim() }];\r\n\t\tsetConversationContext(newContext);\r\n\t\tsetInputMessage('');\r\n\t\tsetAttachedFiles([]);\r\n\t\tsetIsLoading(true);\r\n\t\tsetShowQuickActions(false);\r\n\r\n\t\t// Crea messaggio assistant vuoto per streaming\r\n\t\tconst assistantMessageId = Date.now();\r\n\t\tconst initialAssistantMessage = {\r\n\t\t\tid: assistantMessageId,\r\n\t\t\trole: 'assistant',\r\n\t\t\tcontent: '',\r\n\t\t\ttimestamp: new Date(),\r\n\t\t\tisStreaming: true\r\n\t\t};\r\n\t\tsetMessages(prev => [...prev, initialAssistantMessage]);\r\n\r\n\t\ttry {\r\n\t\t\t// Prepara files se presenti\r\n\t\t\tlet filesData = null;\r\n\t\t\tif (files.length > 0) {\r\n\t\t\t\tfilesData = await Promise.all(files.map(async f => ({\r\n\t\t\t\t\tname: f.name,\r\n\t\t\t\t\ttype: f.type,\r\n\t\t\t\t\tsize: f.size,\r\n\t\t\t\t\tcontent: await readFileAsBase64(f)\r\n\t\t\t\t})));\r\n\t\t\t}\r\n\r\n\t\t\tconst res = await fetch(`${API_HOST}/ai-assistant/stream`, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tcredentials: 'include',\r\n\t\t\t\tbody: JSON.stringify({ \r\n\t\t\t\t\tprompt: text.trim(),\r\n\t\t\t\t\tmodel: aiModel,\r\n\t\t\t\t\tconversationHistory: newContext.slice(-10),\r\n\t\t\t\t\tfiles: filesData\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 401) {\r\n\t\t\t\twindow.location.href = '/#/';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!res.ok) {\r\n\t\t\t\tthrow new Error(`HTTP error! status: ${res.status}`);\r\n\t\t\t}\r\n\r\n\t\t\t// Leggi stream\r\n\t\t\tconst reader = res.body.getReader();\r\n\t\t\tconst decoder = new TextDecoder();\r\n\t\t\tlet streamedContent = '';\r\n\t\t\tlet tokenStats = null;\r\n\t\t\tlet testData = null;\r\n\r\n\t\t\twhile (true) {\r\n\t\t\t\tconst { value, done } = await reader.read();\r\n\t\t\t\tif (done) break;\r\n\r\n\t\t\t\tconst chunk = decoder.decode(value, { stream: true });\r\n\t\t\t\tconst lines = chunk.split('\\n');\r\n\r\n\t\t\t\tfor (const line of lines) {\r\n\t\t\t\t\tif (line.startsWith('data: ')) {\r\n\t\t\t\t\t\tconst data = line.slice(6);\r\n\t\t\t\t\t\tif (data === '[DONE]') continue;\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst parsed = JSON.parse(data);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (parsed.content) {\r\n\t\t\t\t\t\t\t\tstreamedContent += parsed.content;\r\n\t\t\t\t\t\t\t\tsetMessages(prev => prev.map(msg => \r\n\t\t\t\t\t\t\t\t\tmsg.id === assistantMessageId \r\n\t\t\t\t\t\t\t\t\t\t? { ...msg, content: streamedContent }\r\n\t\t\t\t\t\t\t\t\t\t: msg\r\n\t\t\t\t\t\t\t\t));\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (parsed.tokens) {\r\n\t\t\t\t\t\t\t\ttokenStats = parsed.tokens;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (parsed.testGenerated) {\r\n\t\t\t\t\t\t\t\ttestData = parsed.testData;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (parsed.error) {\r\n\t\t\t\t\t\t\t\tthrow new Error(parsed.error);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.warn('Parse error:', e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Finalizza messaggio\r\n\t\t\tsetMessages(prev => prev.map(msg => \r\n\t\t\t\tmsg.id === assistantMessageId \r\n\t\t\t\t\t? { \r\n\t\t\t\t\t\t...msg, \r\n\t\t\t\t\t\tisStreaming: false,\r\n\t\t\t\t\t\ttestGenerated: !!testData,\r\n\t\t\t\t\t\ttestArea: testData?.thematicArea,\r\n\t\t\t\t\t\ttokens: tokenStats\r\n\t\t\t\t\t}\r\n\t\t\t\t\t: msg\r\n\t\t\t));\r\n\r\n\t\t\t// Aggiorna context\r\n\t\t\tsetConversationContext(prev => [...prev, { role: 'assistant', content: streamedContent }]);\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('‚ùå Errore AI:', err);\r\n\t\t\tsetMessages(prev => prev.map(msg => \r\n\t\t\t\tmsg.id === assistantMessageId \r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t...msg,\r\n\t\t\t\t\t\tcontent: `‚ùå Errore: ${err.message || 'Connessione fallita'}\\n\\nProva a:\\n‚Ä¢ Verificare la connessione\\n‚Ä¢ Riformulare la richiesta\\n‚Ä¢ Ridurre la lunghezza del messaggio`,\r\n\t\t\t\t\t\tisStreaming: false,\r\n\t\t\t\t\t\tisError: true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t: msg\r\n\t\t\t));\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleKeyPress = (e) => {\r\n\t\tif (e.key === 'Enter' && !e.shiftKey) {\r\n\t\t\te.preventDefault();\r\n\t\t\thandleSendMessage();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleQuickPrompt = (prompt) => {\r\n\t\tsetInputMessage(prompt);\r\n\t\thandleSendMessage(prompt);\r\n\t};\r\n\r\n\tconst handleFileSelect = (e) => {\r\n\t\tconst files = Array.from(e.target.files);\r\n\t\tconst validFiles = files.filter(file => {\r\n\t\t\tconst validTypes = ['text/plain', 'application/pdf', 'image/png', 'image/jpeg'];\r\n\t\t\tconst maxSize = 10 * 1024 * 1024; // 10MB\r\n\t\t\treturn validTypes.includes(file.type) && file.size <= maxSize;\r\n\t\t});\r\n\t\tsetAttachedFiles(prev => [...prev, ...validFiles]);\r\n\t};\r\n\r\n\tconst removeFile = (index) => {\r\n\t\tsetAttachedFiles(prev => prev.filter((_, i) => i !== index));\r\n\t};\r\n\r\n\tconst formatFileSize = (bytes) => {\r\n\t\tif (bytes < 1024) return bytes + ' B';\r\n\t\tif (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\r\n\t\treturn (bytes / (1024 * 1024)).toFixed(1) + ' MB';\r\n\t};\r\n\r\n\tconst clearChat = () => {\r\n\t\tif (window.confirm('Vuoi cancellare tutta la cronologia della chat?')) {\r\n\t\t\tsetMessages([]);\r\n\t\t\tsetConversationContext([]);\r\n\t\t\tsetShowQuickActions(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst copyMessage = (content) => {\r\n\t\tnavigator.clipboard.writeText(content);\r\n\t};\r\n\r\n\tconst regenerateResponse = async (messageIndex) => {\r\n\t\tif (messageIndex < 1) return;\r\n\t\tconst userMsg = messages[messageIndex - 1];\r\n\t\tif (userMsg.role !== 'user') return;\r\n\r\n\t\t// Rimuovi messaggi dopo quello da rigenerare\r\n\t\tsetMessages(prev => prev.slice(0, messageIndex));\r\n\t\tsetConversationContext(prev => prev.slice(0, messageIndex));\r\n\t\t\r\n\t\t// Rigenera\r\n\t\thandleSendMessage(userMsg.content);\r\n\t};\r\n\r\n\r\n\r\n\tconst exportChat = () => {\r\n\t\tconst chatText = messages.map(msg => \r\n\t\t\t`[${msg.timestamp.toLocaleString('it-IT')}] ${msg.role === 'user' ? 'Tu' : 'AI'}: ${msg.content}`\r\n\t\t).join('\\n\\n');\r\n\t\t\r\n\t\tconst blob = new Blob([chatText], { type: 'text/plain' });\r\n\t\tconst url = URL.createObjectURL(blob);\r\n\t\tconst a = document.createElement('a');\r\n\t\ta.href = url;\r\n\t\ta.download = `chat-ai-${new Date().toISOString().split('T')[0]}.txt`;\r\n\t\ta.click();\r\n\t\tURL.revokeObjectURL(url);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ai-assistant-page\">\r\n\t\t\t<PageBackground />\r\n\t\t\t<LEDEffect variant=\"floating\" color=\"purple\" />\r\n\t\t\t<Topbar />\r\n\t\t\t<div className=\"ai-container\">\r\n\t\t\t\t<div className=\"ai-header\">\r\n\t\t\t\t\t<h1>AI Assistant</h1>\r\n\t\t\t\t\t<div className=\"ai-actions\">\r\n\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\tclassName=\"icon-btn\"\r\n\t\t\t\t\t\t\tonClick={clearChat}\r\n\t\t\t\t\t\t\tdisabled={messages.length === 0}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n\t\t\t\t\t\t\t\t<polyline points=\"3 6 5 6 21 6\"/>\r\n\t\t\t\t\t\t\t\t<path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"chat-container\">\r\n\t\t\t\t\t<div className=\"messages-area\">\r\n\t\t\t\t\t\t{messages.map((msg, idx) => (\r\n\t\t\t\t\t\t\t<div key={idx} className={`message ${msg.role} ${msg.isError ? 'error' : ''}`}>\r\n\t\t\t\t\t\t\t\t<div className=\"message-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"message-text\">\r\n\t\t\t\t\t\t\t\t\t\t{msg.content}\r\n\t\t\t\t\t\t\t\t\t\t{msg.isStreaming && <span className=\"cursor\">|</span>}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{msg.role === 'assistant' && !msg.isStreaming && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"message-actions\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"action-btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => copyMessage(msg.content)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCopy\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"action-btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => regenerateResponse(idx)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRegenerate\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{msg.testGenerated && (\r\n\t\t\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"test-btn\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => navigate('/dashboard')}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGo to Test ‚Üí\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{isLoading && (\r\n\t\t\t\t\t\t\t<div className=\"message assistant\">\r\n\t\t\t\t\t\t\t\t<div className=\"message-content\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"typing\">\r\n\t\t\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div ref={messagesEndRef} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{showQuickActions && messages.length === 0 && (\r\n\t\t\t\t\t\t<div className=\"suggestions\">\r\n\t\t\t\t\t\t\t{quickPrompts.slice(0, 4).map((prompt, idx) => (\r\n\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\tclassName=\"suggestion\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleQuickPrompt(prompt)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{prompt}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{attachedFiles.length > 0 && (\r\n\t\t\t\t\t\t<div className=\"files\">\r\n\t\t\t\t\t\t\t{attachedFiles.map((file, idx) => (\r\n\t\t\t\t\t\t\t\t<div key={idx} className=\"file\">\r\n\t\t\t\t\t\t\t\t\t<span>{file.name}</span>\r\n\t\t\t\t\t\t\t\t\t<button onClick={() => removeFile(idx)}>√ó</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<div className=\"input-container\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tref={fileInputRef}\r\n\t\t\t\t\t\t\tonChange={handleFileSelect}\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\taccept=\".txt,.pdf,.png,.jpg,.jpeg\"\r\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"input-wrapper\">\r\n\t\t\t\t\t\t\t<select \r\n\t\t\t\t\t\t\t\tvalue={aiModel} \r\n\t\t\t\t\t\t\t\tonChange={(e) => setAiModel(e.target.value)}\r\n\t\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\t\tclassName=\"model-select\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=\"gpt-4o\">GPT-4o</option>\r\n\t\t\t\t\t\t\t\t<option value=\"gpt-4o-mini\">GPT-4o Mini</option>\r\n\t\t\t\t\t\t\t\t<option value=\"o1-preview\">O1 Preview</option>\r\n\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Message AI...\"\r\n\t\t\t\t\t\t\t\tvalue={inputMessage}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setInputMessage(e.target.value)}\r\n\t\t\t\t\t\t\t\tonKeyPress={handleKeyPress}\r\n\t\t\t\t\t\t\t\trows={1}\r\n\t\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tclassName=\"send\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleSendMessage()}\r\n\t\t\t\t\t\t\t\tdisabled={isLoading || !inputMessage.trim()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{isLoading ? '...' : '‚Üí'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AIAssistantPage;\r\n","import { memo } from 'react';\r\n\r\nconst PageBackground = memo(() => (\r\n  <div className=\"page-bg-wrapper\" aria-hidden=\"true\">\r\n    <img className=\"page-bg\" src={process.env.PUBLIC_URL + '/sfondo_pages.jpg'} alt=\"\" loading=\"lazy\" />\r\n  </div>\r\n));\r\n\r\nPageBackground.displayName = 'PageBackground';\r\n\r\nexport default PageBackground;\r\n","import { memo, useCallback } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useTheme } from '../utils/themeContext';\r\nimport LanguageSelector from './LanguageSelector';\r\nimport '../css/Topbar.css';\r\n\r\nconst Topbar = memo(() => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { theme, toggleTheme } = useTheme();\r\n  const { t } = useTranslation();\r\n  \r\n  const isActive = (path) => location.pathname === path || location.pathname.startsWith(path);\r\n  \r\n  return (\r\n    <div className=\"dashboard-topbar\">\r\n      <button \r\n        className={`topbar-btn${isActive('/dashboard') ? ' active' : ''}`} \r\n        onClick={() => navigate('/dashboard')}\r\n      >\r\n        {t('topbar.home')}\r\n      </button>\r\n      <button \r\n        className={`topbar-btn${isActive('/ai-assistant') ? ' active' : ''}`} \r\n        onClick={() => navigate('/ai-assistant')}\r\n      >\r\n        {t('topbar.aiAssistant')}\r\n      </button>\r\n      <button \r\n        className={`topbar-btn${isActive('/statistiche') ? ' active' : ''}`} \r\n        onClick={() => navigate('/statistiche')}\r\n      >\r\n        {t('topbar.statistics')}\r\n      </button>\r\n      \r\n      <LanguageSelector />\r\n      \r\n      <button \r\n        className=\"theme-toggle-btn\"\r\n        onClick={toggleTheme}\r\n        aria-label={t('landing.changeTheme')}\r\n        title={theme === 'light' ? t('landing.darkTheme') : t('landing.lightTheme')}\r\n      >\r\n        {theme === 'light' ? 'üåô' : '‚òÄÔ∏è'}\r\n      </button>\r\n    </div>\r\n  );\r\n});\r\n\r\nTopbar.displayName = 'Topbar';\r\n\r\nexport default Topbar;\r\n","import React from 'react';\r\nimport '../css/LEDEffect.css';\r\n\r\nexport default function LEDEffect({ variant = 'corner', color = 'blue' }) {\r\n  const renderCornerLEDs = () => (\r\n    <>\r\n      <div className={`led-corner led-top-left led-${color}`}>\r\n        <div className=\"led-dot\"></div>\r\n        <div className=\"led-line led-line-horizontal\"></div>\r\n        <div className=\"led-line led-line-vertical\"></div>\r\n      </div>\r\n      <div className={`led-corner led-top-right led-${color}`}>\r\n        <div className=\"led-dot\"></div>\r\n        <div className=\"led-line led-line-horizontal\"></div>\r\n        <div className=\"led-line led-line-vertical\"></div>\r\n      </div>\r\n      <div className={`led-corner led-bottom-left led-${color}`}>\r\n        <div className=\"led-dot\"></div>\r\n        <div className=\"led-line led-line-horizontal\"></div>\r\n        <div className=\"led-line led-line-vertical\"></div>\r\n      </div>\r\n      <div className={`led-corner led-bottom-right led-${color}`}>\r\n        <div className=\"led-dot\"></div>\r\n        <div className=\"led-line led-line-horizontal\"></div>\r\n        <div className=\"led-line led-line-vertical\"></div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  const renderFloatingLEDs = () => (\r\n    <>\r\n      <div className={`led-floating led-float-1 led-${color}`}></div>\r\n      <div className={`led-floating led-float-2 led-${color}`}></div>\r\n      <div className={`led-floating led-float-3 led-${color}`}></div>\r\n      <div className={`led-floating led-float-4 led-${color}`}></div>\r\n      <div className={`led-floating led-float-5 led-${color}`}></div>\r\n    </>\r\n  );\r\n\r\n  const renderBorderTrace = () => (\r\n    <div className={`led-border-container led-${color}`}>\r\n      <svg className=\"led-border-svg\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\r\n        <defs>\r\n          <linearGradient id={`ledGrad-${color}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n            <stop offset=\"0%\" stopColor=\"currentColor\" stopOpacity=\"0\">\r\n              <animate attributeName=\"stop-opacity\" values=\"0;0.8;0\" dur=\"3s\" repeatCount=\"indefinite\" />\r\n            </stop>\r\n            <stop offset=\"50%\" stopColor=\"currentColor\" stopOpacity=\"0.8\">\r\n              <animate attributeName=\"stop-opacity\" values=\"0.3;1;0.3\" dur=\"3s\" repeatCount=\"indefinite\" />\r\n            </stop>\r\n            <stop offset=\"100%\" stopColor=\"currentColor\" stopOpacity=\"0\">\r\n              <animate attributeName=\"stop-opacity\" values=\"0;0.8;0\" dur=\"3s\" repeatCount=\"indefinite\" />\r\n            </stop>\r\n          </linearGradient>\r\n        </defs>\r\n        <rect \r\n          x=\"0\" \r\n          y=\"0\" \r\n          width=\"100\" \r\n          height=\"100\" \r\n          fill=\"none\" \r\n          stroke={`url(#ledGrad-${color})`}\r\n          strokeWidth=\"0.5\"\r\n          className=\"led-border-rect\"\r\n        />\r\n      </svg>\r\n      <div className=\"led-corner-glow led-corner-glow-tl\"></div>\r\n      <div className=\"led-corner-glow led-corner-glow-tr\"></div>\r\n      <div className=\"led-corner-glow led-corner-glow-bl\"></div>\r\n      <div className=\"led-corner-glow led-corner-glow-br\"></div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"led-effect-container\">\r\n      {variant === 'corner' && renderCornerLEDs()}\r\n      {variant === 'floating' && renderFloatingLEDs()}\r\n      {variant === 'border' && renderBorderTrace()}\r\n      {variant === 'full' && (\r\n        <>\r\n          {renderCornerLEDs()}\r\n          {renderFloatingLEDs()}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AIAssistantPage","messages","setMessages","useState","inputMessage","setInputMessage","isLoading","setIsLoading","showQuickActions","setShowQuickActions","attachedFiles","setAttachedFiles","aiModel","setAiModel","conversationContext","setConversationContext","messagesEndRef","useRef","textareaRef","fileInputRef","navigate","useNavigate","useEffect","length","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","style","height","Math","min","scrollHeight","handleSendMessage","async","text","arguments","undefined","files","trim","userMessage","role","content","timestamp","Date","map","f","name","prev","newContext","assistantMessageId","now","initialAssistantMessage","id","isStreaming","filesData","Promise","all","type","size","file","resolve","reject","reader","FileReader","onload","result","split","onerror","readAsDataURL","res","fetch","concat","API_HOST","method","headers","credentials","body","JSON","stringify","prompt","model","conversationHistory","slice","status","window","location","href","ok","Error","getReader","decoder","TextDecoder","streamedContent","tokenStats","testData","value","done","read","lines","decode","stream","line","startsWith","data","parsed","parse","msg","_objectSpread","tokens","testGenerated","error","e","console","warn","_testData","testArea","thematicArea","err","message","isError","_jsxs","className","children","_jsx","PageBackground","LEDEffect","variant","color","Topbar","onClick","clearChat","confirm","disabled","width","viewBox","fill","stroke","strokeWidth","points","d","idx","copyMessage","navigator","clipboard","writeText","messageIndex","userMsg","regenerateResponse","ref","handleQuickPrompt","removeFile","index","filter","_","i","onChange","validFiles","Array","from","target","includes","multiple","accept","display","placeholder","onKeyPress","key","shiftKey","preventDefault","rows","memo","src","alt","loading","displayName","useLocation","theme","toggleTheme","useTheme","t","useTranslation","isActive","path","pathname","LanguageSelector","title","_ref","renderCornerLEDs","_Fragment","renderFloatingLEDs","preserveAspectRatio","x1","y1","x2","y2","offset","stopColor","stopOpacity","attributeName","values","dur","repeatCount","x","y"],"sourceRoot":""}